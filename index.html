<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Top 3 Donateurs</title>
  <style>
    /* Conteneur principal du podium */
    .podium-container {
      background-color: #333;
      color: #FFD700;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.3);
      max-width: 300px;
      margin: auto;
      text-align: center;
      font-family: Arial, sans-serif;
    }
    
    /* Titre */
    .podium-title {
      font-size: 1.5em;
      margin-bottom: 20px;
      color: #FFD700;
    }

    /* Style des positions */
    .position {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 10px 0;
      padding: 10px;
      border-radius: 8px;
      color: #fff;
      font-size: 1.2em;
    }

    /* Style pour chaque place */
    .first {
      background-color: #FFD700;
      font-size: 1.4em;
      font-weight: bold;
      color: #333;
    }
    .second {
      background-color: #C0C0C0;
      color: #333;
    }
    .third {
      background-color: #cd7f32;
      color: #333;
    }

    /* Style du texte pour nom et points */
    .donor-name {
      margin-right: 10px;
      font-weight: bold;
    }
    .donor-points {
      font-size: 0.9em;
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <div class="podium-container">
    <div class="podium-title">Top 3 Donateurs</div>
    <div id="first-place" class="position first">Chargement...</div>
    <div id="second-place" class="position second">Chargement...</div>
    <div id="third-place" class="position third">Chargement...</div>
  </div>

  <script>
    const url = "https://script.google.com/macros/s/AKfycbxKHY62S4yapSkVptmCus8Rn0UN2-p0Rz6x2rO3n7YhOFlRSyoXF93qC062aQB-o9f-Bg/exec";

    async function fetchDonors() {
      try {
        const response = await fetch(url);
        const data = await response.json();

        const firstPlace = document.getElementById("first-place");
        const secondPlace = document.getElementById("second-place");
        const thirdPlace = document.getElementById("third-place");

        if (data[0]) {
          firstPlace.innerHTML = `<span class="donor-name">${data[0].name}</span> <span class="donor-points">${data[0].amount} points</span>`;
        }
        if (data[1]) {
          secondPlace.innerHTML = `<span class="donor-name">${data[1].name}</span> <span class="donor-points">${data[1].amount} points</span>`;
        }
        if (data[2]) {
          thirdPlace.innerHTML = `<span class="donor-name">${data[2].name}</span> <span class="donor-points">${data[2].amount} points</span>`;
        }
      } catch (error) {
        document.getElementById("first-place").textContent = "Erreur de chargement";
        document.getElementById("second-place").textContent = "Erreur de chargement";
        document.getElementById("third-place").textContent = "Erreur de chargement";
      }
    }

    fetchDonors();
    setInterval(fetchDonors, 300000); // Mise Ã  jour toutes les 5 minutes
  </script>
</body>
</html>
